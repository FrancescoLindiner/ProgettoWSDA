<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabella Modificabile</title>
    <link rel="stylesheet" href="style_gestione_impianti.css">
</head>
<body>
<h1>Tabella Modificabile</h1>
<form action="URL_DI_DESTINAZIONE" method="post">
    <table id="tabella">
        <!-- Intestazione della tabella -->
        <thead>
        <tr>
            <th>ID</th>
            <th>Descrizione</th>
            <th>Palinsesto Attuale</th>
            <th>Stato</th>
            <th>Latitudine</th>
            <th>Longitudine</th>
        </tr>
        </thead>
        <!-- Corpo della tabella -->
        <tbody id="corpo-tabella">
        <!-- Le righe della tabella verranno aggiunte qui tramite JavaScript -->
        </tbody>
    </table>
    <button type="submit">Invia</button>
</form>

<!-- Includi jQuery se non è già incluso -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Includi il tuo script JavaScript -->
<script>

    $(document).ready(function() {
        var tbody = $("table tbody");

        // Richiesta al controller per ottenere la vista delle righe della tabella
        $.get("/impianti", function(rowHTML) {
            console.log(rowHTML)
            tbody.html(rowHTML);
        })
            .fail(function(jqXHR, textStatus, errorThrown) {
                console.error('Si è verificato un errore durante il recupero delle righe della tabella:', textStatus, errorThrown);
            });
    });
</script>

</body>
</html>
